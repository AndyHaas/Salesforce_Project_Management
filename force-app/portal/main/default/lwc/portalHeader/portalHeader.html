<template>
    <header class="portal-header" data-header>
        <div class="header-container">
            <!-- Logo/Brand Section -->
            <div class="header-brand">
                <div class="brand-link" onclick={handleHomeClick}>
                    <img 
                        src="https://milestoneconsulting.tech/assets/images/logos/MC_WHITE_UPDATED.png" 
                        alt="Milestone Consulting Logo" 
                        class="brand-logo">
                    <lightning-formatted-text 
                        value="Project Management Portal" 
                        class="brand-text">
                    </lightning-formatted-text>
                </div>
            </div>

            <!-- Navigation Section (shown when authenticated) -->
            <template if:true={isAuthenticated}>
                <nav class="header-nav" role="navigation">
                    <lightning-button-group>
                        <lightning-button 
                            variant="base"
                            class="nav-link"
                            class:active={isHomeActive}
                            data-route="home"
                            onclick={handleNavClick}
                            icon-name="utility:home"
                            icon-size="x-small"
                            label="Home">
                        </lightning-button>
                        <lightning-button 
                            variant="base"
                            class="nav-link"
                            class:active={isProjectsActive}
                            data-route="projects"
                            onclick={handleNavClick}
                            icon-name="utility:projects"
                            icon-size="x-small"
                            label="Projects">
                        </lightning-button>
                        <lightning-button 
                            variant="base"
                            class="nav-link"
                            class:active={isProjectTasksActive}
                            data-route="project-tasks"
                            onclick={handleNavClick}
                            icon-name="utility:task"
                            icon-size="x-small"
                            label="Project Tasks">
                        </lightning-button>
                    </lightning-button-group>
                </nav>
            </template>

            <!-- User Section (shown when authenticated) -->
            <template if:true={isAuthenticated}>
                <div class="header-user">
                    <lightning-icon 
                        icon-name="utility:user" 
                        size="small" 
                        class="user-icon">
                    </lightning-icon>
                    <lightning-formatted-text 
                        value="Welcome" 
                        class="user-text">
                    </lightning-formatted-text>
                </div>
            </template>

            <!-- Login Button (shown when not authenticated) -->
            <template if:false={isAuthenticated}>
                <div class="header-login">
                    <lightning-button 
                        variant="brand"
                        class="login-link"
                        onclick={handleLoginClick}
                        icon-name="utility:login"
                        icon-size="small"
                        label="Log In">
                    </lightning-button>
                </div>
            </template>
        </div>
    </header>
</template>

