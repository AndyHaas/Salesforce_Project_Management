<template>
    <template if:true={showCard}>
        <section class="task-hover-card-wrapper">
            <section class="task-hover-card" role="tooltip" aria-live="polite">
                <div class="hover-title">Task Snapshot</div>
                <template for:each={decoratedHoverFields} for:item="field">
                    <div key={field.apiName} class="hover-row">
                        <span class="hover-label">{field.label}</span>
                        <div class={field.valueClass}>
                            <template if:true={field.isStatus}>
                                <span class={field.badgeClass}>{field.displayValue}</span>
                            </template>
                            <template if:false={field.isStatus}>
                                <template if:true={field.isRichText}>
                                    <div lwc:dom="manual" data-rich-text={field.apiName}></div>
                                </template>
                                <template if:false={field.isRichText}>
                                    {field.displayValue}
                                </template>
                            </template>
                        </div>
                    </div>
                </template>
            </section>
        </section>
    </template>
</template>

